"local GearEvent = script.Gear\nlocal BatteryEvent = script.Battery\nlocal PBrakeEvent = script.PBrake\nlocal AdvancedSPDEvent = script.AdvancedSpeed\nlocal FlipEvent = script.Flip\nlocal FrontDoorEvent = script.FDoor\nlocal RearDoorEvent = script.RDoor\nlocal hornevent = script.Horn\nlocal wiperevent = script.Wipers\n\nlocal Gear = script.Parent.Gear\nlocal Battery = script.Parent.Battery\nlocal BatteryStart = script.Parent.BatteryStart\nlocal PBrake = script.Parent.PBrake\nlocal AdvancedSpeed = script.Parent.AdvancedSPD\nlocal FDoor = script.Parent.BodyValues.FrontDoor\nlocal RDoor = script.Parent.BodyValues.RearDoor\nlocal Wiper = script.Parent.BodyValues.Wipers\nlocal StationBrake = script.Parent.StationBrake\n\nlocal Body = script.Parent.Parent.Body\nlocal Misc = script.Parent.Parent.Misc\n\nlocal config = require(script.Parent.Parent.ConfigurationScript)\n\nlocal vehicleseat = script.Parent.VehicleSeat\n\nGearEvent.OnServerEvent:Connect(function(player, shift)\n\tif Battery.Value == true then\n\t\tif shift == \"shiftUp\" then\n\t\t\tif Gear.Value == -1 then\n\t\t\t\tGear.Value = 0\n\t\t\t\tscript.Parent.GUI.Value.MainFrame.GearSelectionFrame.CurrentGear.Text = \"Gear: N\"\n\t\t\telseif Gear.Value == 0 then\n\t\t\t\tGear.Value = 1\n\t\t\t\tscript.Parent.GUI.Value.MainFrame.GearSelectionFrame.CurrentGear.Text = \"Gear: D\"\n\t\t\tend\n\t\telseif shift == \"shiftDown\" then\n\t\t\tif Gear.Value == 1 then\n\t\t\t\tGear.Value = 0\n\t\t\t\tscript.Parent.GUI.Value.MainFrame.GearSelectionFrame.CurrentGear.Text = \"Gear: N\"\n\t\t\telseif Gear.Value == 0 then\n\t\t\t\tGear.Value = -1\n\t\t\t\tscript.Parent.GUI.Value.MainFrame.GearSelectionFrame.CurrentGear.Text = \"Gear: R\"\n\t\t\tend\n\t\tend\n\tend\nend)\n\nlocal function dashon()\n\tBody.Dash.DashboardScreen.SurfaceGui.Booting.Visible = true\n\tBody.Dash.DashboardScreen.SurfaceGui.On.Visible = false\n\ttask.wait(5)\n\tBody.Dash.DashboardScreen.SurfaceGui.Booting.Visible = false\n\tBody.Dash.DashboardScreen.SurfaceGui.On.Visible = true\n\tBody.Dash.Spd.G.Enabled = true\n\tBody.Dash.Tac.G.Enabled = true\nend\n\nlocal function dashoff()\n\ttask.wait(1.5)\n\tBody.Dash.DashboardScreen.SurfaceGui.Booting.Visible = false\n\tBody.Dash.DashboardScreen.SurfaceGui.On.Visible = false\n\tBody.Dash.Spd.G.Enabled = false\n\tBody.Dash.Tac.G.Enabled = false\nend\n\n\nBatteryEvent.OnServerEvent:Connect(function()\n\tif script.Parent.Speed.Value < 3 then\n\t\tif Battery.Value == false then\n\t\t\tBatteryStart.Value = true\n\t\t\tscript.Parent.Parent.Body.BatterySoundPart.StartUp:Play()\n\t\t\ttask.wait(2)\n\t\t\tscript.Parent.LightsScript.Lights.Value = true\n\t\t\tscript.Parent.LightsScript.BrakeLightsFunctional.Value = true\t\n\t\t\tscript.Parent.LightsScript.InteriorLights.Value = true\n\t\t\tBody.NSSScreen.EnableNSS.Value = true\n\t\t\tdashon()\n\t\t\ttask.wait(1)\n\t\t\tBattery.Value = true\n\t\t\tscript.Parent.Parent.Body.BatterySoundPart.Battery:Play()\n\t\t\tscript.Parent.GUI.Value.Icons.Battery.ImageTransparency = 0\n\t\telseif Battery.Value == true then\n\t\t\ttask.wait(8)\n\t\t\tBattery.Value = false\n\t\t\tscript.Parent.Parent.Body.BatterySoundPart.Battery:Stop()\n\t\t\tGear.Value = 0\n\t\t\tscript.Parent.GUI.Value.MainFrame.GearSelectionFrame.CurrentGear.Text = \"Gear: N\"\n\t\t\tscript.Parent.GUI.Value.Icons.Battery.ImageTransparency = 0.8\n\t\t\tscript.Parent.LightsScript.Lights.Value = false\n\t\t\tscript.Parent.LightsScript.BrakeLightsFunctional.Value = false\n\t\t\tscript.Parent.LightsScript.InteriorLights.Value = false\n\t\t\tBody.NSSScreen.EnableNSS.Value = false\n\t\t\tdashoff()\n\t\tend\n\tend\nend)\n\nPBrakeEvent.OnServerEvent:Connect(function()\n\tif Battery.Value == true then\n\t\tif script.Parent.Speed.Value < 3 then\n\t\t\tif PBrake.Value == false then\n\t\t\t\tPBrake.Value = true\n\t\t\t\tscript.Parent.Parent.Body.Sounds.ParkingBrakeEng:Play()\n\t\t\t\tscript.Parent.GUI.Value.Icons.ParkingBrake.ImageTransparency = 0\n\t\t\telseif PBrake.Value == true then\n\t\t\t\tPBrake.Value = false\n\t\t\t\tscript.Parent.Parent.Body.Sounds.ParkingBrakeRel:Play()\n\t\t\t\tscript.Parent.GUI.Value.Icons.ParkingBrake.ImageTransparency = 0.8\n\t\t\tend\n\t\tend\n\tend\nend)\n\nAdvancedSPDEvent.OnServerEvent:Connect(function(player, toggle)\n\tif config.ChassisCustomization.AdvancedSpeedEnabled == true then\n\t\tif toggle == \"On\" then\n\t\t\tAdvancedSpeed.Value = true\n\t\t\tscript.Parent.GUI.Value.Icons.AdvancedSPD.TextTransparency = 0\n\t\telseif toggle == \"Off\" then\n\t\t\tAdvancedSpeed.Value = false\n\t\t\tscript.Parent.GUI.Value.Icons.AdvancedSPD.TextTransparency = 0.8\n\t\tend\n\tend\nend)\n\nFlipEvent.OnServerEvent:Connect(function()\n\tif config.ChassisCustomization.FlipEnabled == true then\n\t\tif script.Parent.Speed.Value < 3 then\n\t\t\tlocal bodypos = Instance.new(\"BodyPosition\", script.Parent.Parent.BasePart)\n\t\t\tbodypos.maxForce = Vector3.new(100000, 10000000, 100000)\n\t\t\tbodypos.position = script.Parent.Parent.BasePart.Position + Vector3.new(0,2,0)\n\t\t\tlocal bodygyro = Instance.new(\"BodyGyro\", script.Parent.Parent.BasePart)\n\t\t\ttask.wait(2)\n\t\t\tbodypos:Destroy()\n\t\t\tbodygyro:Destroy()\n\t\tend\n\tend\nend)\n\nFrontDoorEvent.OnServerEvent:Connect(function()\n\tlocal FD1 = Body.DoorMotors.FMotor1.HingeConstraint\n\tlocal FD2 = Body.DoorMotors.FMotor2.HingeConstraint\n\tlocal Sound = Body.FrontDoorSounds\n\tif FDoor.Value == false then\n\t\tFDoor.Value = true\n\t\tFD1.TargetAngle = -90\n\t\tFD2.TargetAngle = -90\n\t\tSound.Open:Play()\n\telseif FDoor.Value == true then\n\t\tFDoor.Value = false\n\t\tFD1.TargetAngle = 0\n\t\tFD2.TargetAngle = 0\n\t\tSound.Close:Play()\n\tend\nend)\n\n\nRearDoorEvent.OnServerEvent:Connect(function()\n\tlocal Pull1 = Misc.RD1.Pull.PrismaticConstraint\n\tlocal Pull2 = Misc.RD2.Pull.PrismaticConstraint\n\tlocal RD1 = Body.DoorMotors.RMotor1.PrismaticConstraint\n\tlocal RD2 = Body.DoorMotors.RMotor2.PrismaticConstraint\n\tlocal Sound = Body.RearDoorSounds\n\tif RDoor.Value == false then\n\t\tRDoor.Value = true\n\t\tSound.Open:Play()\n\t\tPull1.TargetPosition = 0\n\t\tPull2.TargetPosition = 0\n\t\ttask.wait(0.6)\n\t\tRD1.TargetPosition = 0\n\t\tRD2.TargetPosition = 0\n\telseif RDoor.Value == true then\n\t\tRDoor.Value = false\n\t\tSound.Close:Play()\n\t\tRD1.TargetPosition = 2.5\n\t\tRD2.TargetPosition = 2.5\n\t\ttask.wait(2.2)\n\t\tPull1.TargetPosition = 0.3\n\t\tPull2.TargetPosition = 0.3\n\tend\nend)\n\nhornevent.OnServerEvent:Connect(function(player, toggle)\n\tif toggle == \"On\" then\n\t\tBody.DriveSounds.Horn:Play()\n\telseif toggle == \"Off\" then\n\t\tBody.DriveSounds.Horn:Stop()\n\tend\nend)"
